{"version":3,"sources":["components/home/mainpage.jsx","components/home/join.jsx","components/home/start.jsx","components/ui-components/error.jsx","components/game/canvas.jsx","components/game/game.jsx","App.js","reportWebVitals.js","index.js"],"names":["mainPage","to","join","start","error","Canvas","props","canvasRef","useRef","useState","isPainting","setIsPainting","x","y","mousePosition","setMousePosition","getCoordinates","event","canvas","current","clientX","offsetLeft","clientY","offsetTop","startPaint","useCallback","coordinates","preventDefault","stopPropagation","console","log","paint","newMousePosition","drawLine","useEffect","addEventListener","removeEventListener","context","getContext","strokeStyle","lineJoin","lineWidth","beginPath","moveTo","lineTo","closePath","stroke","exitPaint","ref","height","width","game","App","match","useRouteMatch","path","url","component","MainPage","exact","Join","Start","pate","Game","Error","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ea6c61a5.chunk.js","sourcesContent":["import React from \"react\";\n\nimport {Link} from \"react-router-dom\"\n\nconst mainPage = () =>(\n\t<div>\n\t\t<h1>DrawOops Main Page</h1>\n\t\t<Link to='/join'>join</Link><br/>\n\t\t<Link to='/start'>start new game</Link><br/>\n\t\t<Link to='/game'>test game</Link>\n\t</div>\n);\n\n\nexport default mainPage","import React from \"react\";\n\nconst join = () =>(\n\t<div>\n\t\t<h1>join game</h1>\n\t</div>\n);\n\n\nexport default join","import React from \"react\";\n\nconst start = () =>(\n\t<div>\n\t\t<h1>start new game</h1>\n\t</div>\n);\n\n\nexport default start","import React from \"react\";\n\nconst error = () =>(\n\t\n\t<h1>Oops page not found</h1>\n\n);\n\nexport default error;","import React, { useRef,  useEffect, useState, useCallback }from 'react';\nimport './canvas.scss'\n//https://morioh.com/p/bbafb569e6a1\n//https://medium.com/@pdx.lucasm/canvas-with-react-js-32e133c05258\n//https://medium.com/@martin.crabtree/react-creating-an-interactive-canvas-component-e8e88243baf6\n//https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events/Using_Pointer_Events\n\n/**\n * Basic canvas for drawing\n * draw black line when mouse pressed\n * \n * implemented based on tutorial above\n * \n * Must do: \n * \t\t-save picture drawn json \n * \t\t-mobile touch screen events\n * \n * Potential improvement: undo, redo, change color\n * \n */\nconst Canvas = (props) =>{\n\tconst canvasRef = useRef(null);\n\tconst [isPainting, setIsPainting] = useState(false)\n\tconst [mousePosition, setMousePosition] = useState({ x: null, y: null })\n\t// get coordinate on canvas\n\t// let ongoingTouches = new Array();\n\tconst getCoordinates = (event)=>{\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas)return\n\t\t\n\t\t//console.log({x:event.clientX-canvas.offsetLeft, y:event.clientY-canvas.offsetTop})\n\t\treturn {x:event.clientX-canvas.offsetLeft, y:event.clientY-canvas.offsetTop}\n\n\t}\n\n\t// const ongoingTouchIndexById = (idToFind) {\n\t// \tfor (var i = 0; i < ongoingTouches.length; i++) {\n\t// \t  var id = ongoingTouches[i].identifier;\n\t  \n\t// \t  if (id == idToFind) {\n\t// \t\treturn i;\n\t// \t  }\n\t// \t}\n\t// \treturn -1;    // not found\n\t//   }\n\n\t//update mouse position when mouse pressed\n\tconst startPaint = useCallback((event) => {\n\t\tconst coordinates = getCoordinates(event);\n\n\t\t//regitster touch\n\t\t// ongoingTouches.push(copyTouch(event))\n\t\tif (event && event.preventDefault )event.preventDefault();\n\t\tif (event && event.stopPropagation) event.stopPropagation(); \n\t\tif (coordinates){\n\t\t\tsetIsPainting(true)\n\t\t\tconsole.log('start')\n\t\t\tsetMousePosition(coordinates)\n\t\t}\n\n\t},[])\n\n\tconst paint = useCallback((event)=>{\n\t\tif (isPainting){\n\t\t\tconst newMousePosition = getCoordinates(event);\n\t\t\tif (event && event.preventDefault )event.preventDefault();\n\t\t\tif (event && event.stopPropagation) event.stopPropagation(); \n\t\t\t// const idx = ongoingTouchIndexById(event.pointerId);\n\t\t\tif (mousePosition && newMousePosition ) {\n\t\t\t\tconsole.log(\"painting\")\n\t\t\t\tdrawLine(mousePosition, newMousePosition);\n\t\t\t\tsetMousePosition(newMousePosition);\n\t\t\t}\n\t\t}\n\t},[isPainting, mousePosition])\n\n\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current\n\t\tif (!canvas) return\n\t\tcanvas.addEventListener('pointerdown', startPaint)\n\t\treturn () => {\n            canvas.removeEventListener('pointerdown', startPaint);\n        };\n\n\t},[startPaint])\n\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current;\n        if (!canvas) return;\n\t\tcanvas.addEventListener('pointermove', paint)\n        return () => {\n            canvas.removeEventListener('pointermove', paint);\n        };\n\t}, [paint]);\n\t\n\tconst drawLine = (mousePosition, newMousePosition)=>{\n\t\tconst canvas = canvasRef.current;\n\t\tif (!canvas) {console.log(\"not ca\");return;}\n\t\tconst context = canvas.getContext('2d')\n\t\tif (context) {\n            context.strokeStyle = 'black';\n            context.lineJoin = 'round';\n\t\t\tcontext.lineWidth = 5;\n\t\t\tcontext.beginPath();\n        \tcontext.moveTo(mousePosition.x, mousePosition.y);\n        \tcontext.lineTo(newMousePosition.x, newMousePosition.y);\n        \tcontext.closePath();\n        \tcontext.stroke();\n\t\t}\n\t}\n\n\tconst exitPaint = useCallback(() => {\n\t\tconsole.log(\"leave, up\")\n        setIsPainting(false);\n\t}, []);\n\t\n\tuseEffect(() => {\n\t\tconst canvas = canvasRef.current;\n        if (!canvas) return;\n        // canvas.addEventListener('pointerup', exitPaint);\n        canvas.addEventListener('pointercancel', exitPaint);\n        return () => {\n            // canvas.removeEventListener('pointerup', exitPaint);\n\t\t\tcanvas.removeEventListener('pointercancel', exitPaint);\n\t\t\t\n        };\n\t}, [exitPaint]);\n\t\n\treturn <canvas ref = {canvasRef} height={props.height} width={props.width} />;\n};\n\n\n\n\nexport default Canvas\n","import React from \"react\";\n\nimport Canvas from \"./canvas\"\n\nconst game = () =>(\n\t<div>\n\t\t<h1>this is game play page</h1>\n\t\t<Canvas width={700} height={700}/>\n\t</div>\n);\n\n\nexport default game","import './style/App.scss';\nimport { BrowserRouter, Route, Switch, useRouteMatch} from 'react-router-dom';\nimport MainPage from './components/home/mainpage.jsx';\nimport Join from './components/home/join';\nimport Start from './components/home/start';\nimport Error from './components/ui-components/error';\nimport Game from './components/game/game';\n// import Result from './components/results/results';\n\n\nfunction App() {\n  const match = useRouteMatch()\n  console.log(match)\n  return (\n<main>\n            <Switch>\n            <Route path={`${match.url}`} component={MainPage} exact />\n            <Route path={`${match.url}join`} component={Join} />\n\t          <Route path={`${match.url}start`} component={Start} />\n            <Route pate={`${match.url}game`} component ={Game}/>\n            <Route component={Error} />\n            </Switch>\n        </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport App from './App';\n\nimport { BrowserRouter,  Route, Switch } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n<BrowserRouter basename = {'/drawoops'}>\n        <App />\n    </BrowserRouter>, \n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}